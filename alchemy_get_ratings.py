from __future__ import print_function
from alchemyapi import AlchemyAPI
import json

demo_url = 'http://www.reuters.com/article/us-apple-encryption-police-idUSKCN0W62AP?feedType=RSS&feedName=businessNews'                                                                             


def get_features(passed_url):
    result = []

    #(1) extract the overall url sentiment
    response = alchemyapi.sentiment('url', passed_url)

    if response['status'] == 'OK':

        overall_sentiment = -1
        if response['docSentiment']['type'] == "negative":
            overall_sentiment = -1
        elif(response['docSentiment']['type'] == "positive"):
            overall_sentiment = +1
        else:
            overall_sentiment = 0

        result = result + [overall_sentiment]
    else:
        print ("NOT OK")

    #(2) extract the apple entity sentiment (if exists)
    response = alchemyapi.entities('url', passed_url, {'sentiment': 1})

    apple_found = False
    apple_sentiment = -1
    apple_relevance = -1

    if response['status'] == 'OK':
        for entity in response['entities']:

            if( "apple" not in entity['text'].encode('utf-8').lower()):
                continue

            apple_found = True
            apple_relevance = entity['relevance']

            if(entity['sentiment']['type'] == "negative"):
                apple_sentiment = -1
            elif (entity['sentiment']['type'] == "positive"):
                apple_sentiment = +1
            else:
                apple_sentiment = 0

            result = result + [apple_sentiment,apple_relevance]
            break

    return result

url_vecs =  [['2016-01-20','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-20','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-19','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-19','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-19','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-18','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-18','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-18','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-17','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-17','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-17','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-16','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-16','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-16','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-15','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-15','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-15','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-14','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-14','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-14','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-13','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-13','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-13','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-12','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-12','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-12','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-prelude-to-my-15-surprises-for-2016-second-181607450.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-fed-hikes-rates-in-most-dovish-way-possible-200936247.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-what-is-the-fed-missingor-is-it-us-110121809.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-black-sabbath-will-the-holy-grail-of-retail-161919653.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-blowout-jobs-report-points-to-december-rate-hike-153823907.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-word-on-wall-street-apples-performance-in-china-184741800.html'],['2016-01-11','http://www.thestreet.com/story/13326163/1/if-you-re-a-boglehead-being-cheap-is-the-way-to-get-rich.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-the-economic-case-for-rebuilding-americas-aging-155522024.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-10-dividend-stocks-to-load-up-on-for-the-rest-of-213053418.html'],['2016-01-11','http://www.thestreet.com/story/13271895/1/sell-google-3-key-metrics-telling-you-why.html?puc=yahoo&cm_ven=YAHOO'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-on-cnbc-apple-a-no-brainer-at-these-prices-220506511.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-why-apple-is-afraid-to-reveal-watch-numbers-154202861.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-google-growth-and-potential-for-a-cash-return-113836040.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-why-it-feels-like-were-falling-behind-200311487.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-will-the-djia-hit-20-000-or-16-000-first-140850264.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-carl-icahns-favorite-setup-040634528.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-is-venture-capital-rigged-143711936.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-the-real-reason-behind-the-fall-of-blackberry-120453124.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-bug-causes-message-to-crash-certain-apple-ios-002211259.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-think-big-apple-the-ilivingroom-214059001.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-what-is-the-role-of-luck-in-success-001813328.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-macys-the-war-on-retail-will-be-won-or-lost-in-150505566.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-empathy-gap-173130891.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-april-results-for-the-td-ameritrade-investor-173835285.html'],['2016-01-11','https://finance.yahoo.com/tumblr/blog-the-investment-world-is-full-of-yelps-apples-are-201319081.html']]
#url_vecs = [["Heute","http://www.deraktionaer.de/aktie/apple--das-war-s--223230.htm"],["Morgen","http://www.golem.de/specials/apple/"]];






# Create the AlchemyAPI Object
alchemyapi = AlchemyAPI()

final_list = []

f = open('trainingdata.txt','a')

for url_vec in url_vecs:
    print ("trying url: " + url_vec[1])
    feature_vec = get_features(url_vec[1])
    print (feature_vec)

    if(len(feature_vec) != 3):
        continue;

    new_vec = url_vec
    new_vec = new_vec + feature_vec

    final_list = final_list + [new_vec]

    string = "[" + new_vec[0] + "," + new_vec[1] + "," + str(new_vec[2]) + "," + str(new_vec[3]) + "," + str(new_vec[4]) + "],";
    f.write(string)


print (final_list)


f.close()


